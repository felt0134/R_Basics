---
title: "Vectors and Functions"
output: learnr::tutorial
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
# library(remotes)
# remotes::install_github("rstudio/gradethis")
library(learnr)
library(gradethis)
knitr::opts_chunk$set(echo = FALSE)
```

## Vectors

A `Vector` is a sequences of values, composed of the same `data type`, of a given `length`.

When we say `length`, we mean the number of values in the sequence. The vector 1,2,3 has length = 3 because it has three values in the sequence, and the vector 1,2,3,4 has length = 4 because it has 4 values in the sequence.

When we say `data type`, we mean the type of information a variable is stored as. There are multiple data types that a vector can stored asf. Importantly, a vector is  composed of the *same* data type. We call this an ‘atomic vector’.

*The key data types you will need to know include:*

* numeric: numbers that are either real (double) or integers (integer). These do not have quotations. 

* character: text that come in quotations. Character vectors are composed strings, which are used to represent text as opposed to numbers. By putting a letter, word, symbol, or number in quotations, you are converting it to a character, or string.

* logical: one of two values: T or F to represent true or false

In R, we can use the `:` operator to rapidly create a numeric sequence. Run the code below to see the output.

```{r sequence_demo, exercise=TRUE}

#create a sequence of 1 to 10 that increases by values of 1
1:10

```

Of course, we can assign this sequence a name, and then it will get stored as that name for later use. Run the code below to see the output.
```{r sequence_demo_2, exercise=TRUE}

#create a sequence of 1 to 10 that increases by values of 1
sequence <- 1:10
sequence 

```

## Functions

Almost everything you do in R will require, to some extent, the use of functions. Indeed, we can only get so far with creating and making use of vectors in the absence of using functions.

A function has three basic characteristics:

* A function has a name that is typically descriptive in some form of what it does.
* Bounded parentheses to the right of the name the contain everything that will be 'passed' into the function. THis is in contrast to operators, where whatever is being operated on can be on either side of the symbol - case in point the `:` operator to create a sequence. 
* Arguments that define the parameters that will be fed as inputs to the function, which are needed for the function to return an output. All arguments are contained in the parentheses.

Before going any further run this simple piece of code using the `?` operator.

```{r combine_demo, exercise=TRUE}

#use the help tool to explore the c() function in R
?c

```

The output should be a somewhat weird version of the help tab, but it contains all the essential information. The `c()` function combines (or concatenates) values into a vector. This allows us to create all sorts of vectors. Run the code below to create an (atomic) character vector:

```{r combine_demo_2, exercise=TRUE}

c("R","is","the","best")

```

Notice how each value is separated by  a comma. Commas separate each argument in a function, and here each value is treated as an argument. 


We can also add vectors together if we so wish. Adding two vectors together highlights an important behavior of data in R called `recycling`. If we added two vectors together that had different lengths, what do you think might happen? First let's add two vectors of the same length together. Run the code below:
```{r recyling_demo, exercise=TRUE}

vector_1 <- c(1,1,1,1)
vector_2 <- c(2,2,2,2)

vector_1 + vector_2

```

The above line of code contains a ton of concepts of R already: operators, functions, and vectors. What R does is add the first value of the first vector to the first value of the second vector, and so on. This works well when we have vectors of equal lengths, but what happens when we have vectors of different lengths? Run the code below"

```{r recyling_demo_2, exercise=TRUE}

vector_3 <- c(1,2,3,4)
vector_4 <- c(0,1)

vector_3 + vector_3

```

What happened is that the values in vector_4 got recycled, and thus when it came to find a third value to add to vector_3, vector_4 just went on and repeated itself starting from the beginning back to the first value of the sequence, 0.

*Let's look at some other functions we can use the vectors:*

* `seq()`: create a sequence of values in a specific interval
* `mean()`: calculate the mean of a vector
* `plot()`: plot 
* `hist()`: create a historgram or a frequency distribution of values in a vector


```{r functions_demo, exercise=TRUE}

#create a specific sequence of values
seq(from = 1, to = 20, by = 4)

```

Notice the use of the `=` operator. This is how we pass values into functions for a given argument. Notice also how I have specified the names of the arguments. For now this is good practice, but eventually you might realize that R can know which argument you mean by the location of value you are passing into the function.

*it is also good practice to use the `<-` operator specifically for assigning objects names, and the `=` operator for specifying what values will be passed into a function, for a given argument.

Now let's try the `mean` function to calculate the average of all values in the vector. Runt he code below:
```{r functions_demo_2, exercise=TRUE}

#create a specific sequence of values and name it
toy_sequence <- seq(from = 1, to = 20, by = 4)
mean(toy_sequence)

```

What we did here was actually pass the name of vector we created (a sequence of value) into the mean() function. We can do this because we have stored this vector in our Global Environment, but can reference it as shorthand with the name we have assigned it.

*STOPPED HERE*

*Arithmetic operators:*

* `+` does addition
* `-` does subtraction
* `*` does multiplication
* `/` does division
* `^` Does 'to the power of` (e.g., to square or cube a value)

In R, we often will want to `assign` a value (and eventually a dataset!) a `name`. This is useful because once we do this, we can store the value in the `Global Environment`, allowing us to reference this value for later use. We can use an operator called the `assignment operator` to do this.

*Assignment operator:*

* `<-` assigns a value a name

You can think of this as an arrow, pointing to what name a value corresponds to. Pay attention to the sequence of this code:

*If we run this code, R will return the value 75:*
```{r demo, exercise=TRUE}

75

```

*We can `assign` this value a name. Typically we want this name to be descriptive of the value or have some 'syntactic sugar':*
```{r demo_assign, exercise=TRUE}

seventy_five <- 75

```

*We can also can add more sugar by `commenting`our data using `#`. Anything following this symbol will not run as code, but will be visible, and is typically used to describe what you are doing.*
```{r demo_comment, exercise=TRUE}

#I am creating a variable called seventy_five
seventy_five <- 75

```

*Notice R returns nothing when we run the above code. What is happening here is that R has stored the value 75 with the name seventy_five. Now we can reference this name to return the value 75 (run the code and see what happens). Naming objects is a way we can store them:*
```{r demo_comment_return, exercise=TRUE}

#I am creating a variable called seventy_five
seventy_five <- 75

#return the value
seventy_five

```

Modify the above blocks of code to see for yourself.

## Problem Set

*Let's start out by using arithmetic operators to do some calculations*

Write the R code required to add two plus two

```{r two-plus-two, exercise=TRUE}

```

```{r two-plus-two-hint-1}

This is just like using a calculator!

```

Write the R code required to calculate 10 divided by 5

```{r divide, exercise=TRUE}

```

*Now we want to be able to assign a name to the outputs of our calculations so we can store them*

Assign the value of your previous calculation to the name `two`, then print the output:

```{r name-divide, exercise=TRUE}



```

```{r name-divide-hint-1}

 Can you remember the special operator we use to assign names to objects?

```

```{r name-divide-solution}
two <- 10/5
two
```

```{r name-divide-check}

grade_this_code()

```

Create another named objected called twenty_five that is 5 squared

```{r name-square, exercise=TRUE}



```

```{r name-square-hint}

Use the `^` operator 

```

```{r name-square-solution}

twenty_five <- 5^2

```

```{r name-square-check}

grade_this_code()

```

*Named objects can interact with each other. Calculate a third object*

Finally, multiply `two` by `twenty_five` and name this calculation
`fifty`. Print so that the new object returns the value of the calculation.

```{r name-multiply, exercise=TRUE}



```

```{r name-multiply-hint}

Because the named objects are just numbers, they will behave as such

```

```{r name-multiply-solution}

fifty <- five*twenty_five
fifty

```

```{r name-multiply-check}

grade_this_code()

```

## Quiz

*You can include any number of single or multiple choice questions as a quiz. Use the `question` function to define a question and the `quiz` function for grouping multiple questions together.*

Some questions to verify that you understand the purposes of various base and recommended R packages:

```{r quiz}
quiz(
  question("When you assign a name to an object, where does that object get stored?",
    answer("In a Script"),
    answer("In the Console"),
    answer("In the Global Environment", correct = TRUE),
    answer("In the Help/Plots")
  ),
  question("What is the purpose of the `<-` operator?",
    answer("to prevent a line of code from running"),
    answer("add two values"),
    answer("compare two values"),
    answer("assign a name to a value", correct = TRUE)
  )
)
```
